<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\FrameXML\UI.xsd">

    <Frame name="GwTalentFrame" enableMouse="true" inherits="SecureHandlerBaseTemplate" protected="true" registerForClicks="LeftButtonUp" virtual="true">
        <Size x="608" y="621"/>
        <Anchors>
            <Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="245" y="-5"/>
        </Anchors>
        <Layers>
            <Layer level="BACKGROUND">
                <Texture  file="Interface\AddOns\GW2_UI\textures\talents\talents_header">
                    <Size x="512" y="32"/>
                    <Anchors>
                        <Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="10" y="-10"/>
                    </Anchors>
                </Texture>
            </Layer>
            <Layer level="BORDER">
                <FontString parentKey="title" text="Passive" justifyH="LEFT" justifyY="CENTER">
                    <Size x="256" y="32"/>
                    <Anchors>
                        <Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="20" y="-10"/>
                    </Anchors>
                </FontString>
            </Layer>
        </Layers>
        <Scripts>
            <OnLoad>
                self.title:SetFont(DAMAGE_TEXT_FONT, 14)
                self.title:SetTextColor(1, 1, 1, 1)
                self.title:SetShadowColor(0, 0, 0, 1)
                self.title:SetShadowOffset(1, -1)

                self:RegisterEvent("UNIT_MODEL_CHANGED")
                self:RegisterEvent("UNIT_LEVEL")
                self:RegisterEvent("LEARNED_SPELL_IN_TAB")
            </OnLoad>
        </Scripts>
    </Frame>

    <Button name="GwTalentButton" registerForClicks="AnyDown" enableMouse="true" inherits="SecureActionButtonTemplate" virtual="true">
        <Size x="44" y="44"/>
        <Anchors>
            <Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="10" y="-10"/>
        </Anchors>
        <Layers>
            <Layer level="BACKGROUND" >
                <Texture parentKey="outline" file="Interface\AddOns\GW2_UI\textures\talents\background_border">
                    <Size x="54" y="54"/>
                    <Anchors>
                        <Anchor point="CENTER" relativePoint="CENTER"/>
                    </Anchors>
                </Texture>
            </Layer>
            <Layer level="ARTWORK">
                <Texture parentKey="icon" textureSubLevel="2">
                    <Anchors>
                        <Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="0" y="0"/>
                        <Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
                    </Anchors>
                    <TexCoords left="0.1" right="0.9" top="0.1" bottom="0.9" />
                </Texture>
            </Layer>
            <Layer level="OVERLAY">
                <Texture alphaBlend="ADD" file="Interface\AddOns\GW2_UI\textures\talents\active_highlight" parentKey="highlight">
                    <Size x="44" y="44"/>
                    <Anchors>
                        <Anchor point="CENTER" relativePoint="CENTER"/>
                    </Anchors>
                    <Color r="1" b="0.6" g="1" a="0.9"></Color>
                </Texture>
                <Texture file="Interface\AddOns\GW2_UI\textures\talents\active_highlight" parentKey="legendaryHighlight" hidden="true">
                    <Size x="44" y="44"/>
                    <Anchors>
                        <Anchor point="CENTER" relativePoint="CENTER"/>
                    </Anchors>
                    <Color r="1" g="0.662" b="0.13" a="0.9"></Color>
                </Texture>
            </Layer>
            <Layer level="OVERLAY" textureSubLevel="2">
                <FontString parentKey="points" text="10/10" justifyH="CENTER" justifyY="CENTER">
                    <Anchors>
                        <Anchor point="TOP" relativePoint="BOTTOM" x="0" y="0"/>
                    </Anchors>
                </FontString>
            </Layer>
        </Layers>
        <Scripts>
            <OnEnter>
                GameTooltip:SetOwner(self, "ANCHOR_TOPLEFT", 0, 0)
                GameTooltip:ClearLines()

                GameTooltip:SetTalent(self.talentFrameId, self.talentid)
                GameTooltip:Show()
            </OnEnter>
            <OnLeave>
                GameTooltip:Hide()
            </OnLeave>
            <OnDragStart>
                if InCombatLockdown() or self.isPassive then return end
                --PickupSpell(self.spellId)
            </OnDragStart>
            <OnClick>
                LearnTalent(self.talentFrameId, self.talentid)
            </OnClick>
        </Scripts>
    </Button>

    <Frame name="GwLegacyTalentFrame" enableMouse="true" inherits="SecureHandlerBaseTemplate" protected="true" registerForClicks="LeftButtonUp" virtual="true">
        <Size x="853" y="627"/>
        <Anchors>
            <Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="0" y="0"/>
        </Anchors>
        <Layers>
            <Layer level="BACKGROUND"/>
            <Layer level="BORDER">
                <FontString parentKey="title" text="Passive" justifyH="LEFT" justifyY="CENTER">
                    <Size x="256" y="32"/>
                    <Anchors>
                        <Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="20" y="-10"/>
                    </Anchors>
                </FontString>
            </Layer>
        </Layers>
        <Frames>
            <Frame parentKey="bottomBar">
                <Size x="853" y="65"/>
                <Anchors>
                    <Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
                </Anchors>
                <Layers>
                    <Layer level="BACKGROUND">
                        <Texture parentKey="background"  file="Interface\AddOns\GW2_UI\textures\talents\talents_header">
                            <Size x="853" y="55"/>
                            <Anchors>
                                <Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
                            </Anchors>
                        </Texture>
                    </Layer>
                    <Layer level="BORDER">
                        <FontString parentKey="unspentPoints" text="10" justifyH="LEFT" justifyY="CENTER">
                            <Anchors>
                               <Anchor point="LEFT" relativePoint="LEFT" x="20" y=""/>
                            </Anchors>
                        </FontString>
                        <FontString parentKey="unspentPointsLabel" text="Unspent talent points" justifyH="LEFT" justifyY="CENTER">
                            <Anchors>
                               <Anchor point="LEFT" relativePoint="RIGHT" relativeKey="$parent.unspentPoints" x="0" y=""/>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>
            </Frame>
        </Frames>
        <Scripts>
            <OnLoad>
                self.bottomBar.unspentPoints:SetFont(DAMAGE_TEXT_FONT, 20, "OUTLINE")
                self.bottomBar.unspentPoints:SetTextColor(0.7, 0.7, 0.5, 1)
                self.bottomBar.unspentPointsLabel:SetFont(DAMAGE_TEXT_FONT, 14, "OUTLINE")
                self.bottomBar.unspentPointsLabel:SetTextColor(0.5, 0.5, 0.3, 1)
                self.bottomBar.unspentPointsLabel:SetText(BONUS_TALENTS)

                self.title:SetFont(DAMAGE_TEXT_FONT, 14)
                self.title:SetTextColor(1, 1, 1, 1)
                self.title:SetShadowColor(0, 0, 0, 1)
                self.title:SetShadowOffset(1, -1)

                self:RegisterEvent("UNIT_MODEL_CHANGED")
                self:RegisterEvent("UNIT_LEVEL")
                self:RegisterEvent("LEARNED_SPELL_IN_TAB")
                self:RegisterEvent("CHARACTER_POINTS_CHANGED")
                self:RegisterEvent("SPELLS_CHANGED")
            </OnLoad>
        </Scripts>
    </Frame>

    <Frame name="GwLegacyTalentTree" enableMouse="true" registerForClicks="LeftButtonUp" virtual="true">
        <Size x="284" y="627"/>
        <Anchors>
            <Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="0" y="0"/>
        </Anchors>
        <Layers>
            <Layer level="BACKGROUND">
                <Texture parentKey="background" file="Interface\AddOns\GW2_UI\textures\talents\talents_header">
                    <Size x="284" y="611"/>
                    <Anchors>
                        <Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="0" y="0"/>
                        <Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
                    </Anchors>
                    <Color r="1" g="1" b="1" a="0.5"></Color>
                    <TexCoords left="0.15625" right="0.4306640625" top="0.025390625" bottom="0.6220703125"/>
                </Texture>
            </Layer>
        </Layers>
        <Frames>
            <Frame parentKey="info" >
                <Size x="284" y="55"/>
                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="0" y="0"/>
                </Anchors>
                <Layers>
                    <Layer level="BACKGROUND">
                        <Texture file="Interface\AddOns\GW2_UI\textures\talents\talents_header">
                            <Size x="284" y="55"/>
                            <Anchors>
                                <Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="0" y="0"/>
                            </Anchors>
                            <TexCoords left="0" right="0.4453125" top="0" bottom="1" />
                        </Texture>
                    </Layer>
                    <Layer level="BORDER">
                        <FontString parentKey="title" text="" justifyH="LEFT" justifyY="CENTER">
                            <Anchors>
                                <Anchor point="TOPLEFT" relativePoint="TOPLEFT"  x="10" y="10"/>
                                <Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT"  x="10" y="-10"/>
                            </Anchors>
                        </FontString>
                        <FontString parentKey="points" text="20" justifyH="RIGHT" justifyY="CENTER">
                            <Anchors>
                                <Anchor point="TOPLEFT" relativePoint="TOPLEFT"  x="10" y="10"/>
                                <Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT"  x="-10" y="-10"/>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>
            </Frame>
            <Frame parentKey="treeContainer" >
                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="5" y="-60"/>
                    <Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="-5" y="5"/>
                </Anchors>
            </Frame>
        </Frames>
        <Scripts>
            <OnLoad>
                self.info.title:SetFont(DAMAGE_TEXT_FONT, 14, "OUTLINE")
                self.info.points:SetFont(DAMAGE_TEXT_FONT, 20, "OUTLINE")
                self.info.points:SetTextColor(0.7, 0.7, 0.5, 1)
            </OnLoad>
        </Scripts>
    </Frame>

    <Frame name="GwLegacyTalentLine" virtual="true">
        <Size x="44" y="44"/>
        <Layers>
            <Layer level="BACKGROUND"  textureSubLevel="-1">>
                <Texture parentKey="down" file="Interface\AddOns\GW2_UI\textures\talents\talent_line" hidden="true">
                    <Size x="100" y="75"/>
                    <Anchors>
                        <Anchor point="TOP" relativePoint="CENTER" x="0" y="5"/>
                    </Anchors>
                    <Color r="1" b="0.6" g="1" a="1"></Color>
                </Texture>
                <Texture parentKey="up" file="Interface\AddOns\GW2_UI\textures\talents\talent_line" hidden="true">
                    <Size x="100" y="75"/>
                    <Anchors>
                        <Anchor point="BOTTOM" relativePoint="CENTER" x="0" y="-5"/>
                    </Anchors>
                    <Color r="1" b="0.6" g="1" a="1"></Color>
                </Texture>
                <Texture parentKey="left" file="Interface\AddOns\GW2_UI\textures\talents\talent-line-left" hidden="true">
                    <Size x="70" y="100"/>
                    <Anchors>
                        <Anchor point="RIGHT" relativePoint="CENTER" x="5" y="0"/>
                    </Anchors>
                    <Color r="1" b="0.6" g="1" a="1"></Color>
                </Texture>
                <Texture parentKey="right" file="Interface\AddOns\GW2_UI\textures\talents\talent-line-left" hidden="true">
                    <Size x="70" y="100"/>
                    <Anchors>
                        <Anchor point="LEFT" relativePoint="CENTER" x="-5" y="0"/>
                    </Anchors>
                    <Color r="1" b="0.6" g="1" a="1"></Color>
                </Texture>
            </Layer>
        </Layers>
    </Frame>

</Ui>
